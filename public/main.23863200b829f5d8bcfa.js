!function(e){function t(t){for(var n,s,a=t[0],u=t[1],h=t[2],p=0,c=[];p<a.length;p++)s=a[p],r[s]&&c.push(r[s][0]),r[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(l&&l(t);c.length;)c.shift()();return o.push.apply(o,h||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],n=!0,a=1;a<i.length;a++){var u=i[a];0!==r[u]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=i[0]))}return e}var n={},r={1:0},o=[];function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=n,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var a=window.webpackJsonp=window.webpackJsonp||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var h=0;h<a.length;h++)t(a[h]);var l=u;o.push([1116,0]),i()}({1116:function(e,t,i){"use strict";var n=o(i(451)),r=o(i(477));function o(e){return e&&e.__esModule?e:{default:e}}new n.default.Game({type:n.default.AUTO,width:800,height:600,physics:{default:"arcade",arcade:{debug:!1,gravity:{y:0}}},scene:[r.default]})},454:function(e,t){},477:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=s(i(451)),o=s(i(476));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{key:"Main"}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Scene),n(t,[{key:"preload",value:function(){this.load.image("redShip","assets/ships/playerShip1_red.png"),this.load.image("blueShip","assets/ships/playerShip1_blue.png"),this.load.image("blueEnemyShip","assets/ships/enemyBlue1.png"),this.load.image("redEnemyShip","assets/ships/enemyRed1.png")}},{key:"create",value:function(){var e=this;this.socket=(0,o.default)(),this.otherPlayers=this.physics.add.group(),this.socket.on("currentPlayers",function(n){Object.keys(n).forEach(function(r){n[r].playerID===e.socket.id?t(n[r]):i(n[r])})}),this.socket.on("newPlayer",function(e){i(e)}),this.socket.on("playerMoved",function(t){e.otherPlayers.getChildren().forEach(function(e){t.playerID===e.playerID&&(e.setRotation(t.rotation),e.setPosition(t.x,t.y))})}),this.socket.on("disconnect",function(t){e.otherPlayers.getChildren().forEach(function(e){t===e.playerID&&e.destroy()})}),this.cursors=this.input.keyboard.createCursorKeys();var t=function(t){e.ship=e.physics.add.image(t.x,t.y,"blue"===t.team?"blueShip":"redShip").setOrigin(.5,.5).setDisplaySize(53,40),e.ship.setDrag(100),e.ship.setAngularDrag(100),e.ship.setMaxVelocity(200)},i=function(t){var i=e.add.sprite(t.x,t.y,"blue"===t.team?"blueEnemyShip":"redEnemyShip").setOrigin(.5,.5).setDisplaySize(53,40);i.playerID=t.playerID,e.otherPlayers.add(i)}}},{key:"update",value:function(){if(this.ship){this.cursors.left.isDown?this.ship.setAngularVelocity(-150):this.cursors.right.isDown?this.ship.setAngularVelocity(150):this.ship.setAngularVelocity(0),this.cursors.up.isDown?this.physics.velocityFromRotation(this.ship.rotation+1.5,100,this.ship.body.acceleration):this.ship.setAcceleration(0),this.physics.world.wrap(this.ship,5);var e=this.ship.x,t=this.ship.y,i=this.ship.rotation;!this.ship.oldPosition||e===this.ship.oldPosition.x&&t===this.ship.oldPosition.y&&i===this.ship.oldPosition.rotation||this.socket.emit("playerMovement",{x:this.ship.x,y:this.ship.y,rotation:this.ship.rotation}),this.ship.oldPosition={x:this.ship.x,y:this.ship.y,rotation:this.ship.rotation}}}}]),t}();t.default=a}});